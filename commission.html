<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="" />
    <link
      href="css/bootstrap.min.css"
      rel="stylesheet"
      id="bootstrap-css"
    />
    <script src="js/jquery-1.11.1.min.js"></script>
    <link
      href="datatable/datatables.min.css"
      rel="stylesheet"
    />
    <script
      type="text/javascript"
      src="datatable/datatables.min.js"
    ></script>
    <script
      type="text/javascript"
      src="datatable/pdfmake.min.js"
    ></script>
    <script
      type="text/javascript"
      src="datatable/vfs_fonts.js"
    ></script>
    <link
      rel="stylesheet"
      href="css/admin.css"
    />
  </head>
  <body>
    <div class="wrapper">
      <!-- Sidebar Holder -->
      <nav id="sidebar" class="sidebar">
        <div class="position-fixed scroll-y">
          <div class="sidebar-header">Admin Dashboard </div>
          <ul class="list-unstyled mt-2">
            <li>
              <a
                class="active"
                href="https://wa.me/15129569851?text"
              >
                <i class="fa-thin fa-gauge me-2"></i> Developer
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Player</li>
            <li>
              <a
                href="#/player"
              >
                <i class="fa-thin fa-users me-2"></i> Player List
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Deposit</li>
            <li>
              <a
                href="#/deposit/index.html"
              >
                <i class="fa-thin fa-square-arrow-down me-2"></i> All Deposit
              </a>
            </li>
            <li>
              <a
                href="#/deposit/pending.html"
              >
                <i class="fa-thin fa-coins me-2"></i> Pending Deposit
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Withdraw</li>
            <li>
              <a
                href="#/withdraw/index.html"
              >
                <i class="fa-thin fa-square-arrow-up me-2"></i> All Withdraw
              </a>
            </li>
            <li>
              <a
                href="#/withdraw/pending.html"
              >
                <i class="fa-thin fa-coins me-2"></i> Pending Withdraw
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Bets</li>
            <li>
              <a
                href="#/bets/pending.html"
              >
                <i class="fa-thin fa-exchange me-2"></i> Pending Bet
              </a>
            </li>
            <li>
              <a
                href="#/bets/index.html"
              >
                <i class="fa-thin fa-list-tree me-2"></i> Bet List
              </a>
            </li>
            <li>
              <a
                href="#/games/index.html"
              >
                <i class="fa-thin fa-spade me-2"></i> Games
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Agent</li>
            <li>
              <a
                href="#/agent/add.html"
              >
                <i class="fa-thin fa-user-plus me-2"></i> Create Agent
              </a>
            </li>
            <li>
              <a
                href="#/agent/index.html"
              >
                <i class="fa-thin fa-users me-2"></i> Agent List
              </a>
            </li>
            <li>
              <a
                href="#/agent/prepayment.html"
              >
                <i class="fa-thin fa-square-arrow-down me-2"></i> Pre Payment
              </a>
            </li>
            <li>
              <a
                href="#/agent/commission.html"
              >
                <i class="fa-thin fa-line-chart me-2"></i> Commission
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Payment Method</li>
            <li>
              <a
                href="#/payments/add.html"
              >
                <i class="fa-thin fa-plus me-2"></i> Create Payment
              </a>
            </li>
            <li>
              <a
                href="#/payments/index.html"
              >
                <i class="fa-thin fa-flag-pennant me-2"></i> Payments List
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Affiliate</li>
            <li>
              <a
                href="#/affiliate/index.html"
              >
                <i class="fa-thin fa-handshake me-2"></i> Affiliate List
              </a>
            </li>
            <li>
              <a
                href="#/affiliate/history.html"
              >
                <i class="fa-thin fa-history me-2"></i> History
              </a>
            </li>
            <li>
              <a
                href="#/affiliate/transfer.html"
              >
                <i class="fa-thin fa-chart-simple me-2"></i> Transfer
              </a>
            </li>

            <li>
              <a
                href="#/affiliate/review.html"
              >
                <i class="fa-thin fa-refresh me-2"></i> Review
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Popular</li>
            <li>
              <a
                href="#/popular/add.html"
              >
                <i class="fa-thin fa-plus me-2"></i> Add Popular
              </a>
            </li>
            <li>
              <a
                href="#/popular/index.html"
              >
                <i class="fa-thin fa-star me-2"></i> Popular List
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Sports</li>
            <li>
              <a
                href="#/sports/add.html"
              >
                <i class="fa-thin fa-plus me-2"></i> Add Sport
              </a>
            </li>
            <li>
              <a
                href="#/sports/index.html"
              >
                <i class="fa-thin fa-cricket-bat-ball me-2"></i> Sports List
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Sliders</li>
            <li>
              <a
                href="#/sliders/add.html"
              >
                <i class="fa-thin fa-plus me-2"></i> Add Slider
              </a>
            </li>
            <li>
              <a
                href="#/sliders/index.html"
              >
                <i class="fa-thin fa-gallery-thumbnails me-2"></i> Slider List
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Blog Category</li>
            <li>
              <a
                href="#/categories/add.html"
              >
                <i class="fa-thin fa-plus me-2"></i> Add Category
              </a>
            </li>
            <li>
              <a
                href="#/categories/index.html"
              >
                <i class="fa-thin fa-list me-2"></i> Category List
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Blog & Promotion</li>
            <li>
              <a
                href="#/blogs/add.html"
              >
                <i class="fa-thin fa-plus me-2"></i> Add Blog
              </a>
            </li>
            <li>
              <a
                href="#/blogs/index.html"
              >
                <i class="fa-thin fa-blog me-2"></i> Blog List
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Sms Provider</li>
            <li>
              <a
                href="#/sms/index.html"
              >
                <i class="fa-thin fa-comment-sms me-2"></i> Sms Provider
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Language</li>
            <li>
              <a
                href="#/language/add.html"
              >
                <i class="fa-thin fa-plus me-2"></i> Add Language
              </a>
            </li>
            <li>
              <a
                href="#/language/index.html"
              >
                <i class="fa-thin fa-globe me-2"></i> Language List
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Transactions</li>
            <li>
              <a
                href="#/transaction.html"
              >
                <i class="fa-thin fa-chart-user me-2"></i> Transactions
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Exchange Rate</li>
            <li>
              <a
                href="#/exchange/index.html"
              >
                <i class="fa-thin fa-check-circle me-2"></i> Exchange
              </a>
            </li>

            <li class="text mt-4 text-uppercase">Configaration</li>
            <li>
              <a
                href="#/settings/general.html"
              >
                <i class="fa-thin fa-folder-gear me-2"></i> General
              </a>
            </li>
            <li>
              <a
                href="#/settings/media.html"
              >
                <i class="fa-thin fa-font-awesome me-2"></i> Logo & Icon
              </a>
            </li>
            <li>
              <a
                href="#/settings/risk.html"
              >
                <i class="fa-thin fa-user-gear me-2"></i> Risk Management
              </a>
            </li>

            <li>
              <a
                href="#/settings/seo.html"
              >
                <<i class="fa-thin fa-megaphone me-2"></i> Meta Data
              </a>
            </li>

            <li>
              <a
                href="#/settings/contact.html"
              >
                <i class="fa-thin fa-envelope-circle-check me-2"></i> Contact
              </a>
            </li>

            <li>
              <a
                href="#/settings/content.html"
              >
                <i class="fa-thin fa-id-card-clip me-2"></i> Content HTML
              </a>
            </li>

            <li>
              <a
                href="#/settings/social.html"
              >
                <i class="fa-thin fa-share-from-square me-2"></i> Social
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- Page Content Healder -->

      <div id="content">
        <nav class="navbar navbar-expand-lg navbar-light bg-white rounded mb-3">
          <button
            type="button"
            id="sidebarCollapse"
            class="navbar-btn bg-white"
          >
            <span></span>
            <span></span>
            <span></span>
          </button>

          <div class="nav ml-auto">
            <div class="btn-group me-md-5 me-3">
              <a
                href="#"
                id="dropdownInfo"
                data-toggle="dropdown"
                aria-haspopup="false"
                aria-expanded="false"
              >
                <i class="fa-regular fa-bell"></i>
              </a>
              <div
                class="dropdown-menu dropdown-menu-right"
                aria-labelledby="dropdownInfo"
              >
                <center>No Data Found</center>
              </div>
            </div>

            <a
              class="me-3"
              href="https://scriptsellshop.com/"
              title="Logout"
            >
              <i class="fa-regular fa-arrow-right-from-bracket"></i>
            </a>
          </div>
        </nav>

        <div class="container">
          <title>Commission</title>

          <div class="float-start">
            <div class="page-header">
              <a
                href="https://bet365soft.com/webapp/sportsbook/admin/dashboard"
                class="me-1"
                >Dashboard</a
              >
              | <span class="ms-1">Commission List</span>
            </div>
          </div>
          <div class="float-end">
            <button
              type="button"
              class="submit"
              data-bs-toggle="modal"
              data-bs-target="#commissionModal"
            >
              Add Commission
            </button>
          </div>
          <div class="fresh mb-3"></div>

          <div class="border border-primary p-4 rounded mb-3">
            <div class="row mt-3">
              <div class="col-md-3">
                <input
                  type="number"
                  class="form-control"
                  placeholder="Agent ID"
                  id="agentId"
                  name="agentId"
                /><br />
              </div>

              <div class="col-md-3">
                <input
                  type="number"
                  class="form-control"
                  placeholder="Agent Mobile Number"
                  id="phone"
                  name="phone"
                /><br />
              </div>

              <div class="col-md-3">
                <select name="month" id="month" class="form-control-2">
                  <option value="">Select Month</option>
                  <option value="January">January</option>
                  <option value="February">February</option>
                  <option value="March">March</option>
                  <option value="April">April</option>
                  <option value="May">May</option>
                  <option value="June">June</option>
                  <option value="July ">July</option>
                  <option value="August">August</option>
                  <option value="September">September</option>
                  <option value="October">October</option>
                  <option value="November">November</option>
                  <option value="December">December</option></select
                ><br />
              </div>

              <div class="col-md-3">
                <input
                  type="submit"
                  class="submit w-100"
                  id="filter"
                  value="Apply"
                /><br />
              </div>
            </div>
          </div>

          <div class="border rounded">
            <div class="table-responsive">
              <table id="tableData" class="table bg-white w-100 table-hover">
                <thead>
                  <tr>
                    <th scope="col">Agent</th>
                    <th scope="col">Month Name</th>
                    <th scope="col">Deposit</th>
                    <th scope="col">Deposit Commission</th>
                    <th scope="col">Withdraw</th>
                    <th scope="col">Withdraw Commission</th>
                    <th scope="col">Amount</th>
                    <th scope="col">Penalty</th>
                    <th scope="col">Date</th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>
          <br /><br />

          <div
            class="modal fade"
            id="commissionModal"
            tabindex="-1"
            aria-labelledby="modalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-sm">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="modalLabel">Add Commission</h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <div id="proccess"></div>
                  <div id="error600" class="text-danger"></div>
                  <form method="POST" id="addCommission">
                    <select name="month" class="form-control-2" required>
                      <option value="">Select Month</option>
                      <option value="September">September</option>
                      <option value="October">October</option>
                      <option value="November">November</option>
                      <option value="December" selected>
                        December
                      </option></select
                    ><br />
                    <center>
                      <input
                        type="submit"
                        class="submit"
                        value="Add Commission"
                      />
                    </center>
                  </form>
                </div>
              </div>
            </div>
          </div>

          <script type="text/javascript" language="javascript">
            $(document).ready(function () {
              fillerDatatable();
              function fillerDatatable(agentId = "", phone = "", month = "") {
                $("#tableData").DataTable({
                  processing: true,
                  serverSide: true,
                  ajax: {
                    url: "https://bet365soft.com/webapp/sportsbook/admin/agent/commission-data?action=view",
                    type: "POST",
                    data: { agentId: agentId, phone: phone, month: month },
                  },

                  dom:
                    "<'px-3 pt-3 mb-2'<'row'<'col-md-6'B><'col-md-6'f>>>" +
                    "<'row'<'col-sm-12'tr>>" +
                    "<'d-flex justify-content-center'<'center'p>>",

                  buttons: [
                    {
                      extend: "csv",
                      footer: "true",
                      className: "submit-2",
                      titleAttr: "CSV Download",
                      filename: "COMMISSION-13012024",
                      exportOptions: { columns: [0, 1, 2, 3, 4, 5, 6, 7, 8] },
                    },

                    {
                      extend: "print",
                      footer: "true",
                      className: "submit",
                      titleAttr: "Print",
                      title: "COMMISSION LIST",
                      filename: "COMMISSION-13012024",
                      exportOptions: { columns: [0, 1, 2, 3, 4, 5, 6, 7, 8] },

                      customize: function (win) {
                        $(win.document.body)
                          .find("h1")
                          .css("text-align", "center");
                        $(win.document.body)
                          .find("h1")
                          .css("font-size", "25px");
                        $(win.document.body).prepend(
                          '<div class="water-mark">Sportsbook</div>'
                        );
                        $(win.document.body)
                          .find("table")
                          .addClass("compact")
                          .css("font-size", "inherit");
                      },
                    },
                  ],

                  language: {
                    sLengthMenu: "_MENU_",
                    search: "_INPUT_",
                    searchPlaceholder: "Search keywords...",
                    processing:
                      "<div id='overlay'><div class='loader'><div></div>",
                    paginate: {
                      previous: "<",
                      next: ">",
                      first: "F",
                      last: "L",
                    },
                  },

                  bInfo: false,
                  colReorder: true,
                  lengthMenu: [
                    [50, 80, 100, 500, -1],
                    [50, 80, 100, 500, "All"],
                  ],
                  order: [[1, "desc"]],

                  columns: [
                    null,
                    { orderable: false },
                    { orderable: false },
                    { orderable: false },
                    { orderable: false },
                    { orderable: false },
                    { orderable: false },
                    { orderable: false },
                    { orderable: false },
                  ],
                });
              }

              $("#filter").click(function () {
                var agentId = $("#agentId").val();
                var phone = $("#phone").val();
                var month = $("#month").val();
                $("#tableData").DataTable().destroy();
                fillerDatatable(agentId, phone, month);
              });
            });

            $(document).ready(function (e) {
              $("#addCommission").on("submit", function (e) {
                e.preventDefault();
                $("#proccess").html("Processing...");
                $.ajax({
                  type: "POST",
                  url: "https://bet365soft.com/webapp/sportsbook/admin/agent/commission-data?action=addCommission",
                  data: new FormData(this),
                  contentType: false,
                  cache: false,
                  processData: false,
                  success: function (response) {
                    var result = JSON.parse(response);
                    if (result.success == 200) {
                      window.location.reload();
                    } else {
                      $("#proccess").html("");
                      $("#error" + result.success).html(result.data);
                    }
                  },
                });
              });
            });
          </script>
        </div>
      </div>
    </div>

    <script src="https://bet365soft.com/webapp/sportsbook/assets/js/popper.js"></script>
    <script src="https://bet365soft.com/webapp/sportsbook/assets/js/bootstrap.min.js"></script>

    <script type="text/javascript">
      jQuery(document).ready(function ($) {
        $("li").each(function () {
          if (
            window.location.href.indexOf($(this).find("a:first").attr("href")) >
            -1
          ) {
            $(this).addClass("active").siblings().removeClass("active");
          }
        });
      });

      $(document).ready(function () {
        $("#sidebarCollapse").on("click", function () {
          $("#sidebar").toggleClass("active");
          $(this).toggleClass("active");
        });
      });

      $(document).ready(function () {
        $(".formSearch").select2({ theme: "bootstrap" });
      });
    </script>
  </body>
</html>
